<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>样式的层叠</title>
    <link rel="stylesheet" href="../../assets/css/common.css"/>
</head>
<body>
<div class="title">4.2 样式的层叠</div>
<p>要想掌握样式表，弄清样式层叠和继承这两个概念是关键。浏览器根据层叠和继承规则确定显示一个元素时各种样式属性采用的值。每个元素都有一套浏览器呈现页面时要用到的CSS属性。对于每一个这种属性，浏览器都需要查看一下其所有的样式来源。</p>
<p>前面已经讲过三种定义样式的方式(元素内嵌、文档内嵌和外部样式表)，但是要知道，样式还有另外两个来源。</p>
<div class="x">1. 浏览器样式（户代理样式,user agent stylesheet）</div>
<p>浏览器样式(更恰当的名称是用户代理样式)是元素尚未设置样式时浏览器应用在它身上的默认样式。这些样式因浏览器不同而略有差异，不过大体一致。</p>
<p>以a元素为例，不定义任何样式的时候，它链接的文字显示为蓝色，带有下划线。这些样式都是浏览器所赋予的浏览器样式。</p>
<div class="x">2. 用户样式</div>
<p>大多数浏览器都允许用户自定义自己的样式表。这类样式表中包含的样式称为用户样式。</p>
<p>用户样式表功能使用的人不多。一个使用的重要原因是：可以让有生理不便的人更容易使用网页。</p>
<p>很遗憾我并没有找到我的浏览器的用户样式表文件所在的位置。</p>
<div class="x">3. 样式如何层叠</div>
<p>浏览器要确定一个元素的css属性值，它会按照一定的层级顺序去求索。层级顺序如下：</p>
<ul>
    <li>(1)元素内嵌样式</li>
    <li>(2)文档内嵌样式</li>
    <li>(3)外部样式表</li>
    <li>(4)用户样式</li>
    <li>(5)浏览器样式</li>
</ul>
<p>先找到的某个css样式属性值会被应用，而后找到的会被忽略？</p>
<p>形象一点理解:某个css属性定义的地方离元素越近越先被找到。</p>
<div class="x">4. 用重要样式(!important)调整层叠顺序</div>
<p>上述顺序是一种自然排序的次序。如果在样式的属性值中将此值标记为重要(important)，可以改变正常的层叠顺序。例：</p>
<xmp>
    common.css:
    .text-red{
    color:red !important;
    }

    html文档中:
    <div style="color: blue;padding-left: 30px" class="text-red">我的style="color: blue;",但我其实是红色的！</div>
</xmp>
<p>效果如下：</p>
<div style="color: blue;padding-left: 30px" class="text-red">我的style="color: blue;",但我其实是红色的！</div>
<div class="x">根据具体程度和定义次序解决同级样式冲突</div>
<p>通过选择器获得样式的时候，有时候两个选择器都选中了同一个元素，其中一个选择器要将文字变红色，另一个选择器则要将文字变蓝色。浏览器该如何选择呢？</p>
<p>为了判断该用那个值，浏览器会评估两条样式的具体程度，然后选中较为特殊的那条。样式的具体程度通过统计三类特性得出：</p>
<ul>
    <li>(1)样式的选择器中(匹配到的)id值的数目;</li>
    <li>(2)选择器中(匹配到的)其它属性和伪类的数目;</li>
    <li>(3)选择器中(匹配到的)元素名和微元素的数目。</li>
</ul>
<p>具体的，浏览器在渲染某个元素时，根据1、2、3的数目生成一个值。文字变红的那个选择器的值假设是0-0-8，文字变蓝的那个选择器的值是0-9-0，先比较第一位数字，谁大就选谁。这里都是零，就去比较第二位数字，分别是0和9，
所以选择值是9的那个样式，第三位数字就忽略了。</p>
<p>如果前三位数字相同呢？规则是谁定义在文档的后面就选谁。注意是定义而不是使用哦，比如class="class1 class2"中的顺序是使用顺序，而定义在样式表中的顺序则是定义顺序。</p>
<p>我们现在还不知道什么是微元素，所以还不能准确把握这个顺序，但是它属于最后优先级，我们还是能基本把握这个原则。</p>

<div class="important">
    思考一下，元素内嵌样式会出现选择哪个样式的问题吗?
    还是由可能出现的，但那一般是错误的代码，比如：
    <xmp>
        <div style="color: deepskyblue;color: blueviolet;">我是什么颜色？</div>
        <div style="color: blueviolet;color: deepskyblue;">我是什么颜色？</div>
    </xmp>
    看看是什么颜色:
    <div style="color: deepskyblue;color: blueviolet;">我是什么颜色？</div>
    <div style="color: blueviolet;color: deepskyblue;">我是什么颜色？</div>
    所以暂时的结论是：元素内嵌样式的同一个属性如果定义多次(记住这是程序的错误)，后一个定义的会生效。
</div>

</body>
</html>